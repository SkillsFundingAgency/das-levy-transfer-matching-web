@model SFA.DAS.LevyTransferMatching.Web.Models.Opportunities.IndexViewModel

@{
    ViewData["Title"] = "Search funding opportunities";
}

<main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content">
    <div class="govuk-width-container">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <span class="govuk-caption-m">Find a business to fund training for your apprentices</span>
                <h1 class="govuk-heading-xl">
                    Search funding opportunities
                </h1>
                <p>Large businesses that want to fund the apprenticeships of other businesses can set funding criteria to show the training they want to support.</p>
                <details class="govuk-details" data-module="govuk-details">
                    <summary class="govuk-details__summary">
                        <span class="govuk-details__summary-text">Examples</span>
                    </summary>
                    <div class="govuk-details__text">
                        <strong>Example 1</strong><br>
                        A large business might choose to fund apprenticeships in construction companies based in the West Midlands.
                        <br>
                        <br>
                        <strong>Example 2</strong><br>
                        A large business might choose to fund digital apprenticeships in any sector in the North East.
                    </div>
                </details>
                <p>You can use the 4 criteria below to see which funding opportunities your business matches.</p>
                <p>Or you can browse all opportunities available.</p>
                <p>Some businesses have chosen not to share their organisation's name publicly so these opportunities just show a reference number. If your application is successful, we'll let you know who the employer willing to fund your apprenticeship training is.</p>
                <div class="govuk-grid-row">
                    <div class="govuk-grid-column-two-thirds">
                        <h2 class="govuk-heading-m">@Model.Opportunities.Count() opportunities</h2>
                        <div class="das-search-results">
                            <ol class="das-search-results__list">
                                @foreach (var opportunity in Model.Opportunities)
                                {
                                    <li class="das-search-results__list-item">
                                        <h2 class="govuk-heading-m das-search-results__heading govuk-!-margin-bottom-0">
                                            <a href="/opportunities/@opportunity.ReferenceNumber" class="das-search-results__link">@opportunity.EmployerName (@opportunity.ReferenceNumber)</a>
                                        </h2>
                                        <p class="govuk-hint">up to @($"{opportunity.Amount:c0}") available in @Model.TaxYear</p>
                                        <dl class="das-definition-list das-definition-list--inline">
                                            <dt class="das-definition-list__title">Locations</dt>
                                            <dd class="das-definition-list__definition govuk-hint">@opportunity.DisplayLocations</dd>
                                            <dt class="das-definition-list__title">Sectors</dt>
                                            <dd class="das-definition-list__definition govuk-hint">@opportunity.DisplaySectors</dd>
                                            <dt class="das-definition-list__title">Type of job role</dt>
                                            <dd class="das-definition-list__definition govuk-hint">@opportunity.DisplayJobRoles</dd>
                                            <dt class="das-definition-list__title">Levels</dt>
                                            <dd class="das-definition-list__definition govuk-hint">@opportunity.DisplayLevels</dd>
                                        </dl>
                                    </li>
                                }
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>